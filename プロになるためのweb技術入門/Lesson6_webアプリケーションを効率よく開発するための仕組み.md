サーブレット=HTTPリクエストを受け取り、ブラウザへ返すHTMLをJavaプログラムから出力できるようにしたもの。 (=controller)
JSP=HTMLの中にJavaのプログラムをスクリプトレットとして埋め込めるようにしたもの。(=view)
→JSPだけを利用する場合、処理が複雑で多くなってくると、可読性やメンテナンス性が下がる。
↓
↓
HTMLの表示はJSPに任せ、アプリケーションの処理はサーブレットに担当させる方法が登場。

## ページ・ディレクティブ
jspファイルにおいて、 `<%@ ~ %>`の部分。jsp処理時に、APサーバーへ伝えるべき情報を記述している。

### フォワード
HTTPリクエストがサイド発生するリダイレクトとは異なり、アプリケーションサーバー内で遷移すること。

## リクエストパラメータとリクエストスコープ
リクエストパラメータは読み取りのみ可能。servletやjspで値の変更は不可能。
リクエストスコープは、アプリケーションサーバによって提供される仕組みで、フォワードの前後でjavaのオブジェクトを共有することができる。
1回のリクエストを処理する間のみ有効で、リクエスト処理が終了するとリクエストスコープに記述されている情報は消える。railsで言うrubyタグなどで利用される変数的なもの。
sessionが終了するまで、もしくはsession timeoutまでアプリケーションサーバーのメモリに保存されるセッションとは異なり、一回的なリクエストスコープはAPサーバーのメモリを消耗しない。

|  |セッションスコープ |リクエストスコープ |
|---|---|---|
|有効範囲 |セッションを開始してから終了するか、タイムアウトするまで |リクエストを受けてからレスポンスを返すまで |
|開始と終了 |webアプリケーションが制御 |アプリケーションサーバーが制御 |
|主な使い方 |ユーザ情報の保持 |ページ遷移前後での情報保持 |

## JSTL(JSP Standard Tag Library)
変数の設定や削除、文字列の出力や条件分岐などのロジックを持つ使用頻度の高いカスタムタグをライブラリ化したもの。
「ロジックとデザインの分離」の観点から言えば、多用は避けるべきである。

## IPO
入力input、処理prosess、出力outputというコンピュータ処理における基本的な流れ、要素。
複雑に見えるwebアプリケーションの処理も、個々のリクエストに対する処理というレベルでは、IPOの繰り返しに過ぎない。

## フレームワーク
webアプリケーションである以上、そのアーキテクチャに大きな違いはない。
その共通的なアーキテクチャの部分を半完成品のソフトウェアとして実現し、異なる部分だけを作り込めるようにしたものがフレームワーク。
アーキテクチャを具現化する共通部分。

## ビジネスロジック(Business Logic)
アプリケーション固有の処理。コントローラーではなく、モデルに記述するべき。
UIが変わっても変わらない処理の部分を言う。

## アーキテクチャパターン
よく使用されるアーキテクチャのパターン。MVCもその１つ。

### Layers
システムを階層化し、上位レイヤが下位レイヤの提供する機能を利用することで、各レイヤの作りを単純化していく考え方。
各レイヤは、そのレイヤが依存する直接の下位レイヤ以外を知る必要がない。
`プレゼンテーション層` `ビジネスロジック層` `データアクセス層`の3層。データアクセス層は、インテグレーション層とも言われる。
前2つの層がコントローラーとビューに、データアクセス層がモデルにあたる。

### DAO(Data Access Object)
データアクセス層で利用される、データベースへのアクセス機能を持ったオブジェクト。再利用性と保守性向上につながる。

## O/Rマッピングフレームワーク
Object/Relational---オブジェクトとRDBの対応を取るプログラム。
RDBとオブジェクト表現方法の違いを埋める。この違いを、「インピーダンス・ミスマッチ」という。


