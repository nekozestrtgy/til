# Lesson 2

## CGI (Common Gateway Interface)
webサーバーとプログラムの間でリクエストとレスポンスをやりとりするための仕組み。
より多くの閲覧数を稼ぐため、動的コンテンツへのニーズが高まり生まれた。webアプリケーションの始まり。
CGIの登場によって、webが爆発的に普及した。
perlでよく開発された。

### プロセス
コンピュータ上で動作するプログラムの単位。

### マルチスレッド
複数の処理を同時に実行するための仕組み。実際には同時に実行はされず、短い時間で複数の処理を少しずつ切り替えて実行することで、同時に実行されているように見せかけている。

## java・サーブレットの登場
アプリケーションが大規模化・複雑化するにしたがって、オブジェクト指向ではなく実行に時間がかかり大規模開発に向かないperlは使われなくなる。
そこでオブジェクト指向で当時よく使用されていたCに似ているjavaが登場。

### サーブレット
javaで作られたhtmlなどのコンテンツを生成するためのプログラム。CGIと同じ考え方だが、プロセスを毎回起動することなく高速で動く。

### JSP (Java Server Pages)
サーブレットだと、webデザイナーがhtmlを弄りにくいし、プログラムを壊してしまうリスクがあった。
そこで、JSPと呼ばれるhtmlにjavaのスクリプトレットscriptletを挿入する方法が生まれた。
サーブレットは、javaコードの中にhtmlを埋め込むのに対し、JSPはhtmlにjavaを埋め込む。

### プラットフォーム
ソフトウェアを動作させるコンピュータのハードウェアとOSの組み合わせを合わせたもの。

↓
↓さらなる大規模化・複雑化
↓

## フレームワークの登場
再利用できる部分を増やし、アプリケーション開発をしやすくする土台。

# Lesson3 HTTPを知る

## HTTP(Hyper Text Transfer Protocol)
wwwの世界でhtmlをやりとりするためのプロトコル。
一度のリクエストで１つのリソースしか取得できない。
よって、imgタグのあるhtmlの場合、1度目のリクエストでhtmlを取得し、2度目のリクエストで画像を取得する。

## HTTPリクエスト
###  リクエスト・ライン
1行目。`メソッド``URI``HTTPバージョン`の3つからなる。

#### URI(Uniform Resource Identifier)
メソッドの対象を表す。
URI = URL(位置) + URN(名前)

### メッセージ・ヘッダ
2行目以降。リクエストの付加的な情報を表す。下記の形で表される。
```
(フィールド名) : (フィールド値)
```
#### Accept
webクライアントが受け取ることができるデータの種類を表したもの。`Content-Type`という形式で表される。`text/plain``image/jpeg``*/*`など。

#### Accept-Language
webクライアントが受け取ることができる自然言語の種類を示す。
英語版・日本語版があるサイトで、どちらの言語で表示するべきかがわかる。

#### User-Agent
利用しているwebブラウザの種類やバージョンを示す。PCと携帯、どちらのHTMLを返すべきかわかる。

#### Host
リクエストの送信先ホスト名やポート番号を指定。

## HTPPレスポンス
### ステータス・ライン
1行目。 `HTTPバージョン` `ステータスコード` `レスポンス・フレーズ` の3つからなる。

#### ステータス・コード
|ステータス・コード |意味 |説明 |
|---|---|---|
|100〜 |informational |リクエストの処理が継続していることを表す |
|200〜 |Success |リクエストが成功したことを表す |
|300〜 |Redirection |リクエストを完了させるためには、さらに動作が必要であることを示す |
|400〜 |Client Error |クライアント側に起因するエラーのため、リクエストが失敗したことを表す |
|500〜 |Server Error |サーバー側に起因するエラーのため、リクエストが失敗したことを表す |

### メッセージ・ヘッダ
2行目以降。レスポンスに関する付加的な情報。

### メッセージ・ボディ
要求したものに応じて、テキスト形式のHTMLファイルやバイナリ形式の画像ファイルなどが入っている。

## IPアドレス
ピリオドで区切られた4組みの数字で表される、インターネット上の住所。ホストが特定できる。約43億通り。世界中で唯一の値。

### グローバルIPアドレス
固定電話番号。

### プライベートIPアドレス
内線番号。プライベート・ネットワーク上のホストに割り当てられる。

## TCP/IP
IPアドレスを頼りに、HTTPリクエストをパケットに分割して送信する通信プロトコル。現実世界の郵便局のようなもの。

## DNS (Domain Network System)
ドメイン名とIPアドレスを対応させるシステム。対応表を持つDNSサーバーに問い合わせることで、ドメイン名からIPアドレスを知ることができる。

### ルートサーバー
`jp` `com` `net` などのトップレベルドメインTLDを管理するDNSサーバー。ここから順番に下位のDNSサーバーに問い合わせていき、IPアドレスが判明する。
世界で13個存在する。 https://www.root-servers.org

## ポート
`HTTP` 以外にも、　`SMTP` `POP3` `FTP` `SSH` など様々なプロトコルでTCP/IP通信が行われている。
プロトコルにあった適切なアプリケーションが処理を行えるよう、各アプリケーションで決められた入り口。本当は指定する必要があるが、よく使うプロトコルは標準で使用するポートを決めておくことになっている。

### ウェルノウン・ポート
代表的なプロトコルで使用されるポート。

|ポート番号 |プロトコル |
|---|---|
|20、21 |FTP(ファイル転送) |
|22 |SSH(暗号化されたリモートコンピュータとの汎用通信) |
|23 |Telnet(リモートコンピュータとの汎用通信) |
|25 |SMTP(メール送信) |
|53 |DNS(ホスト名解決) |
|80 |HTTP(webブラウジング) |
|110 |POP3(メール受信) |
|443 |HTTPS(暗号化されたHTTP) |

## クエリ文字列（Query String）
URLの `?` 以降。フォームに入力された文字列などをwebサーバーへ渡すために使われる。
URLには `?`が含まれない。逆に言えば、 `?`があれば、それはクエリ文字列である。
それぞれの部分は `パラメーター名=値`の形式で表され、 `&(アンパサンド)`で区切られている。

### 連想配列
`パラメーター名=値` というペアの情報を格納できる配列のこと。Javaでは、マップと呼ばれる。

## POSTリクエストとGETリクエスト

| |GETリクエスト |POSTリクエスト |
|---|---|---|
|利用するメソッド |GETメソッド |POSTメソッド |
|パラメーターの格納場所 |URL |メッセージ・ボディ |
|セキュリティ |低い(URLが他人に見られる／webサーバのログに残る) |比較的高い(webサーバのログに残らないことが多い) |
|パラメータの長さ |古いソフトウェアではURLが255文字以内に制限される可能性あり |制限なし |
|パラメータの保存・再現 |しやすい |しにくい |
|副作用 |期待される |期待されない |

副作用：同じ要求を何度繰り返しても同じ結果が得られること

## パーセントエンコード
文字列を文字コードで表したもの。16進数で表された各値の先頭
